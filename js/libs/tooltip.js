!function(a,b){if("undefined"!=typeof module)require("./offset"),module.exports=b(a);else if(b(a),"function"==typeof define&&(define.amd||define.cmd)){var c="//"+(!/ppppoints.com/.test(document.domain)?"j.changyoyo.com":"j.ppppoints.com")+"/static/js/";requirejs.config({paths:{offset:c+"libs/offset"}}),define("tooltip",["offset"],function(){return b(a)})}}(window||this,function(a){function r(a,f){var g,l,n,r,s,t,u,v,w,x,y;return!b&&(b=document),a=e(a),a._bindTool?void 0:(a._bindTool=!0,p(),f=k({delay:0,width:100,offset:[0,0],disabled:!1,content:"",eventType:"hover",placement:"bottom",className:"",timeout:500,callback:function(){},onShow:function(){},onHide:function(){},onClose:function(){},onClick:function(){}},f||{}),l=f.content,n=f.placement,r=f.eventType,g=l,"object"==d(l)&&(g=j("div",{}),g.appendChild(l.cloneNode(!0)),g=g.innerHTML),s=f.width.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),t=b.body.appendChild(j("div",{className:f.className,innerHTML:'<div class="toolContent">'+g+"</div>",style:{width:s[2]+(s[3]||"px")}})),o.add(t,"__cytooltip"),f.className&&o.add(t,f.className),f.disabled&&o.add(t,"disabled"),t.appendChild(j("div",{className:"__arrow"})),u=function(){var c=b.body,d=b.documentElement,e=t.CY.offset(a),g=a.offsetWidth,h=a.offsetHeight,i=d.scrollTop||c.scrollTop||0,j=d.scrollLeft||c.scrollLeft||0,l=n.match(/([a-z]*)(\s([a-z]*))?/),p=0,r=0,s="__p",u=m(t,"width"),v=m(t,"height");switch(l[1]){case"top":o.add(t,"__top"),p=i+e.top+(f.offset[0]||0)-v,r=j+e.left+(f.offset[1]||0),/center/.test(n)?r=j+e.left+(f.offset[1]||0)-u/2+g/2:/right/.test(n)&&(r=j+e.left+(f.offset[1]||0)+g-u),l[3]&&o.add(t,s+l[3]),k(t.style,{top:p+q,left:r+q});break;case"right":o.add(t,"__right"),p=i+e.top+(f.offset[0]||0),r=j+e.left+(f.offset[1]||0)+g,/center/.test(n)?p=i+e.top+(f.offset[0]||0)-v/2+h/2:/bottom/.test(n)&&(p=i+e.top+(f.offset[0]||0)+h-v),l[3]&&o.add(t,s+l[3]),k(t.style,{top:p+q,left:r+q});break;case"bottom":o.add(t,"__bottom"),p=i+e.top+h+(f.offset[0]||0),r=j+e.left+(f.offset[1]||0),/center/.test(n)?r=j+e.left+(f.offset[1]||0)-u/2+g/2:/right/.test(n)&&(r=j+e.left+(f.offset[1]||0)+g-u),l[3]&&o.add(t,s+l[3]),k(t.style,{top:p+q,left:r+q});break;case"left":o.add(t,"__left"),p=i+e.top+(f.offset[0]||0),r=j+e.left+(f.offset[1]||0)-u,/center/.test(n)?p=i+e.top+(f.offset[0]||0)-v/2+h/2:/bottom/.test(n)&&(p=i+e.top+(f.offset[0]||0)+h-v),l[3]&&o.add(t,s+l[3]),k(t.style,{top:p+q,left:r+q})}},v=!0,w={show:function(){h(t),f.onShow(t),u(),o.add(a,"__cytooltipFocus"),v=!1},hide:function(){i(t),f.onHide(t),v=!0,o.remove(a,"__cytooltipFocus")},close:function(){t.parentNode.removeChild(t),f.onClose(t),v=!0,o.remove(a,"__cytooltipFocus"),a._bindTool=!1},setDisabled:function(a){f.disabled=Boolean(a),f.disabled?(o.add(t,"disabled"),w.hide()):o.remove(t,"disabled")}},u(),c(window,"resize",function(){u()}),"click"==r?(c(a,"click",function(){f.disabled||w.show()}),c(document,"click touchstart",function(b){var c,d;if(!v){for(c=b.target||b.srcElement;c;){if(c==a||c==t){d=!0;break}c=c["parentNode"]}d?f.onClick.call(w,b,t,a):w.hide()}})):(y=function(){x=setTimeout(function(){w.hide()},f.timeout)},c(a,"mouseover",function(){clearTimeout(x),w.show()}),c(a,"mouseout",function(){y()}),c(t,"mouseover",function(){clearTimeout(x),w.show()}),c(t,"mouseout",function(){y()})),f.callback.call(w,t),w)}var b,c,d,e,g,h,i,j,k,l,m,n,o,p,q;return!a.CY&&(a.CY={}),a.CY.tooltip?a.CY.tooltip:(c=function(a,b,c){b.split(" ").forEach(function(b){a.addEventListener(b,c,!1)})},d=function(a){return Object.prototype.toString.call(a).split(/\s(\w+)/)[1].toLowerCase()},e=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelector(a):null},g=function(a,b){a=a||[];for(var c=0,d=a.length;d>c&&0!=b.call(a[c],c,a[c]);c++);},h=function(a){k(a.style,{display:"block"})},i=function(a){k(a.style,{display:"none"})},j=function(a,c){a=b.createElement(a);for(var d in c)c.hasOwnProperty(d)&&("style"==d?k(a.style,c[d]):a[d]=c[d]);return a},k=function(a,b){for(var c in b)b.hasOwnProperty(c)&&("object"==d(b[c])?a[c]=k(a[c]||{},b[c]):"array"==d(b[c])?a[c]=k(a[c]||[],b[c]):void 0!=b[c]&&(a[c]=b[c]));return a},l=function(a,b,c){var e,d={};for(e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]},m=function(a,b){function f(){c="width"==b?a.offsetWidth:a.offsetHeight}if("width"==b||"height"==b){var c,d={position:"absolute",visibility:"hidden",display:"block"};return 0!==a.offsetWidth?f():l(a,d,f),Math.max(0,Math.round(c))}},n=function(a,b){for(var c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1},o={has:function(a,b){return n(b,(a.className||"").split(/\s+/))>-1},add:function(a,b){!this.has(a,b)&&(a.className+=(a.className?" ":"")+b)},remove:function(a,b){var c=[];g((a.className||"").split(/\s+/),function(a,d){d!=b&&c.push(d)}),a.className=c.join(" ")}},p=function(){var c,a=[];a.push(".__cytooltip{padding:2px 10px;line-height:20px;border-radius:5px;font-size:12px;z-index:1000;color:#fff;display:none;position:absolute;background-color:#333}"),a.push(".__cytooltip .__arrow{border-color:transparent;border-style:solid;border-width:7px;width:10px;position:absolute}"),a.push(".__cytooltip.__top .__arrow{bottom:-14px}"),a.push(".__cytooltip.__top.__pleft .__arrow{border-top-color:#333;left:15%}"),a.push(".__cytooltip.__top.__pcenter .__arrow{border-top-color:#333;left:50%;margin-left:-7px}"),a.push(".__cytooltip.__top.__pright .__arrow{border-top-color:#333;right:15%}"),a.push(".__cytooltip.__right .__arrow{left:-14px}"),a.push(".__cytooltip.__right.__ptop .__arrow{border-right-color:#333;top:15%}"),a.push(".__cytooltip.__right.__pcenter .__arrow{border-right-color:#333;top:50%;margin-top:-7px}"),a.push(".__cytooltip.__right.__pbottom .__arrow{border-right-color:#333;bottom:15%}"),a.push(".__cytooltip.__bottom .__arrow{top:-14px}"),a.push(".__cytooltip.__bottom.__pleft .__arrow{border-bottom-color:#333;left:15%}"),a.push(".__cytooltip.__bottom.__pcenter .__arrow{border-bottom-color:#333;left:50%;margin-left:-7px}"),a.push(".__cytooltip.__bottom.__pright .__arrow{border-bottom-color:#333;right:15%}"),a.push(".__cytooltip.__left .__arrow{right:-14px}"),a.push(".__cytooltip.__left.__ptop .__arrow{border-left-color:#333;top:15%}"),a.push(".__cytooltip.__left.__pcenter .__arrow{border-left-color:#333;top:50%;margin-top:-7px}"),a.push(".__cytooltip.__left.__pbottom .__arrow{border-left-color:#333;bottom:15%}"),c=b.createElement("style"),c.type="text/css",c.innerHTML=a.join(""),b.getElementsByTagName("head")[0].appendChild(c),p=function(){}},q="px",a.CY.tooltip=r,r)});