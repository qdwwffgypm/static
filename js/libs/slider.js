!function(a,b){var c,d,e;b.CY=b.CY||{},c=function(a){var b=this;return b instanceof c?(b.opt=Object.assign({elem:"",content:"",hasIndicator:!1,indicatorBoxCSS:"slider-indicator",indicatorActive:"slider-indicator-active",attr:"left",time:1e3,drag:.4,onFinish:function(){},_move:0,_totalMove:0,_startX:0,_endX:0,_startTime:0,_endTime:0,_winWidth:0,_scrWidth:0,_conWidth:0},a||{}),b.init(),void 0):new c(a)},d=!1,e=!1,c.prototype={beforeArr:[],init:function(){var a=this;a.elem=a.getElem(a.opt.elem),a.content=a.getElem(a.opt.content),a.elem&&a.content&&(a.content.style.position="relative",a.initWH(),a.addEvent(),a.opt.hasIndicator&&a.addIndicator(),a.beforeArr.forEach(function(b){b.call(a)}))},initWH:function(){var a=this,b=a.opt;b._winWidth=a.elem.offsetWidth,b._scrWidth=a.content.offsetWidth,b._conWidth=a.content.children[0].offsetWidth},addIndicator:function(){var d,a=this,b=document,c=b.createElement("div");for(c.className=a.opt.indicatorBoxCSS,a.$indicatorList=[],d=a.content.children.length-1;d>=0;d--)!function(){var e=b.createElement("span");a.$indicatorList.push(e),c.appendChild(e)}(d);a.elem.appendChild(c)},setIndicator:function(a){var d,b=this,c=b.opt.indicatorActive;for(d=b.$indicatorList.length-1;d>=0;d--)b.$indicatorList[d].classList[a==d?"add":"remove"](c)},addEvent:function(){var a=this;["touchstart","touchmove","touchend"].forEach(function(b){a.elem.addEventListener(b,function(c){a[b](c)})}),["resize","orientationchange"].forEach(function(b){window.addEventListener(b,function(){a.initWH()})})},touchstart:function(a){var c,b=this,f=b.opt;e||(c=b.getPoint(a),f._startX=c.pageX,f._startTime=+new Date,f._totalMove=b.getConVal(b.content,f.attr),d=!0,e=!1)},touchmove:function(a){var c,f,g,h,i,b=this;if(!e){if(c=b.opt,f=b.getPoint(a),c._endX=f.pageX,c._endY=f.pageY,c._move=c._endX-c._startX,i=c._endY-c._startY,d&&Math.abs(i)>10)return a.stopPropagation(),e=!0,void 0;d=!1,g=c._scrWidth-c._winWidth,h=c._totalMove+c._move,c._move>0&&h>0?c._endX-=.7*h:c._move<0&&-g>h&&(c._endX+=.7*(Math.abs(h)-g)),c._move=c._endX-c._startX,b.stop(b.content),b.move(c._totalMove+c._move)}},touchend:function(){var d,f,g,h,i,j,b=this,c=b.opt;e||(c._endTime=+new Date,d=c._move/Math.abs(c._startTime-c._endTime),f=d*c.time*c.drag,j=function(a){b.opt.hasIndicator&&b.setIndicator(a),c.onFinish.call(b,a+1)},Math.abs(c._move)<.15*c._conWidth?b.animate(c._totalMove):(g=c._scrWidth-c._winWidth,h=c._totalMove+c._move+f,i=h/c._conWidth,i=c._move>0?Math.ceil(i):Math.floor(i),h=i*c._conWidth,h>0?(b.animate(0,function(){j(0)}),c._totalMove=0):-g>h?(b.animate(-g,function(){j(Math.floor(g/c._conWidth))}),c._totalMove=-g):(c._totalMove=h,b.animate(h,function(){j(Math.abs(i))}))),c._endX=c._startX=c._startX=c._endTime=0)},move:function(a){this.content.style[this.opt.attr]=a+"px"},animate:function(a,b){this._animate(this.content,this.opt.attr,a,this.opt.time,b)},getElem:function(a){return a&&"object"==typeof a?a:a?document.querySelector(a):null},getConVal:function(a,b){var d,e,c=this;return e=c.content.style,e[b]?d=e[b]:(e=window.getComputedStyle(a,null),d=e.getPropertyValue(b.replace(/([A-Z])/g,"-$1").toLowerCase())),parseInt(d)||0},getPoint:function(a){return a.targetTouches[0]},linear:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},stop:function(a){var c,b=this;for(b.__arr=b.__arr||[],c=b.__arr.length-1;c>=0;c--)b.__arr[c].elem==a&&(b.__arr[c].callback(),b.__arr.splice(c,1))},_animate:function(a,b,c,d,e){var n,f=this,g=window.getComputedStyle(a,null),h=parseInt(g.getPropertyValue(b.replace(/([A-Z])/g,"-$1").toLowerCase()))||0,i=0,j=d,k=+new Date,l=Math.abs(h-c),m=c>h?!0:!1,o="px",p=function(c){return j>i&&!c?(i=+new Date-k,n=f.linear(i,0,l,j),a.style[b]=(m?h+n:h-n)+o,void 0):(a.style[b]=(m?h+l:h-l)+o,e&&e(),!0)};return p.elem=a,p.callback=function(){return e&&e(),!0},f.__arr&&f.__arr.length?f.__arr.push(p):(f.__arr=[p],clearInterval(f.tid),f.tid=setInterval(function(){for(var a=f.__arr.length-1;a>=0;a--)f.__arr[a]()&&f.__arr.splice(a,1)},15),void 0)}},b.CY.slider=CY.Slider||c,"function"==typeof define&&define.amd&&define("slider",[],function(){return CY.slider})}(document,window);