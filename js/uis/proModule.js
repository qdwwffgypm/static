!function(a,b){if("undefined"!=typeof module)require("../utils/serverUtil"),require("../utils/lazyloadUtil"),module.exports=b(a);else if(b(a),"function"==typeof define&&(define.amd||define.cmd)){var c="//"+(!/ppppoints.com/.test(document.domain)?"j.changyoyo.com":"j.ppppoints.com")+"/static/js/";requirejs.config({paths:{serverUtil:c+"utils/serverUtil",lazyloadUtil:c+"utils/lazyloadUtil"}}),define("proModule",["serverUtil","lazyloadUtil"],function(){return b(a)})}}(window||this,function(a){var c,b,d,e;return!a.CY&&(a.CY={}),a.CY.proModule?a.CY.proModule:(b=document,e=function(a){return a+(Math.random()+"").slice(9)},c=function(){var c,f,g,h,i,a=[];return a.push('<div class="l-item">'),a.push('    <a href="{link}" data-spm="{keyId}">'),a.push("        <article>"),a.push('            <span class="top {topCss}"></span>'),a.push('            <span class="l-img">'),a.push('                <img alt="{goodsName}" realSrc="{centerPic}">'),a.push("                <label>{label}</label>"),a.push("            </span>"),a.push('            <span class="l-wrap">'),a.push('                <span class="l-title">{goodsName}</span>'),a.push('                <span class="l-minPrice">'),a.push("                    <span>{priceHtml}</span>"),a.push("                </span>"),a.push('                <span class="l-btn">立即购买</span>'),a.push("            </span>"),a.push('            <span class="l-cover {coverCss}"><b>抢光了</b></span>'),a.push("        </article>"),a.push("    </a>"),a.push("</div>"),a=a.join(""),c=function(){var c,a=[];a.push(".proModule["+d+"]{overflow:hidden;padding:0;}"),a.push(".proModule img["+d+"]{min-height: 100px;}"),a.push(".proModule["+d+"] .l-item{padding:0.05rem 0.05rem}"),a.push(".proModule["+d+"] .l-item article{width:100%;height:100%}"),a.push(".proModule["+d+"] .l-item a{position:relative;display:block;background-color:#fff;padding:0.15rem 0.1rem 0.15rem 0.1rem;}"),a.push(".proModule["+d+"] .l-item .top{display:none}"),a.push(".proModule["+d+"] .l-item .l-title{font-size:0.3rem;color:#666;display:block;line-height:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0 0.07rem;padding-top:0.2rem}"),a.push(".proModule["+d+"] .l-item .l-img{min-height: 0.8rem;width:100%;position:relative;display:block}"),a.push(".minHeight.proModule["+d+"] .l-item .l-img{min-height: 2rem;}"),a.push(".proModule["+d+"] .l-item .l-img label{position:absolute;top:0;left:0;background-image:url(/event/2018/activePlatform/img/pro_tip.png);background-repeat:no-repeat;background-size:100% 100%;padding:0 .3rem 0 .1rem;color:#fff;font-size:.24rem}"),a.push(".proModule["+d+"] .l-item .l-img img{width:100%;display:block;height:100%}"),a.push(".proModule["+d+"] .l-item .l-wrap .l-title{font-size:.28rem;color:#333;display:block;line-height:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0 0.07rem;padding-top:0.2rem}"),a.push(".proModule["+d+"] .l-item .l-wrap .l-minPrice{height: 22px;display:inline-flex;align-items:center;color:#FF2851;margin-top:0.1rem;padding:0 0.07rem;position:relative}"),a.push(".proModule["+d+'] .l-item .l-wrap .l-minPrice b{font-size:0.2rem;font-family:"microsoft yahei"}'),a.push(".proModule["+d+"] .l-item .l-wrap .l-minPrice font{font-size:0.3rem}"),a.push(".proModule["+d+"] .l-item .l-wrap .l-minPrice sub{font-size:0.2rem;position:relative;vertical-align:baseline}"),a.push(".proModule["+d+"] .l-item .l-wrap .l-minPrice label{margin-left:0.15rem;background-image:url(/event/2018/activePlatform/img/zjl_icon_006.jpg);background-repeat:no-repeat;background-size:100% 100%;display:inline-block;width:1.05rem;height:0.34rem;overflow:hidden;text-indent:-10rem;position:relative}"),a.push(".proModule["+d+"] .l-item .l-wrap .l-des{display:block;margin-top:0.22rem}"),a.push(".proModule["+d+"] .l-item .l-wrap .l-btn{margin: 0 0.04rem;height:.7rem;line-height:.7rem;background-color:#fa7253;color:#fff;display:block;border-radius:.35rem;font-size:.36rem;text-align:center;letter-spacing:.05rem;background-image:linear-gradient(90deg,#FEBA80 0%,#FC7260 90%);box-shadow:0 0.10rem 0.10rem 0 #FFD4BF}"),a.push(".proModule["+d+"] .l-item .l-cover{display:none;position:absolute;top:17%;left:50%;background:#000;border-radius:2rem;text-align:center;color:#fff;font-size:0.4rem;opacity:.4;width:1.5rem;height:1.5rem;line-height:1.5rem;margin-left:-0.7rem}"),a.push(".proModule["+d+"] .l-item .l-cover-0{display:block}"),a.push(".proModule["+d+"] .l-item .l-cover b{font-weight:normal}"),a.push(".proModule2["+d+"]{}"),a.push(".proModule2["+d+"] .l-item{width:50%;float:left}"),a.push(".proModule2["+d+"] .l-item a{padding:0.1rem 0.1rem 0.15rem 0.1rem;}"),a.push(".proModule2["+d+"] .l-item .l-wrap .l-btn{height:.6rem;line-height:.6rem;border-radius:.30rem;font-size:.30rem}"),a.push(".proModule3["+d+"]{}"),a.push(".proModule3["+d+"] .l-item{width:33.3%;float:left}"),a.push(".proModule3["+d+"] .l-item a{padding:0.06rem 0.05rem 0.15rem 0.05rem}"),a.push(".proModule3["+d+"] .l-item .l-img label{transform:scale(0.9);margin-left:-0.06rem}"),a.push(".proModule3["+d+"] .l-item .l-wrap .l-btn{height:.5rem;line-height:.5rem;border-radius:.25rem;font-size:.28rem}"),c=b.createElement("style"),c.type="text/css",c.innerHTML=a.join(""),b.getElementsByTagName("head")[0].appendChild(c)},f=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelector(a):null},g=function(a){return Object.prototype.toString.call(a).split(/\s(\w+)/)[1].toLowerCase()},h=function(a,b){for(var c in b)b.hasOwnProperty(c)&&("object"!=g(b[c])?void 0!=b[c]&&(a[c]=b[c]):a[c]=h(a[c]||{},b[c]));return a},i=function(a,b){return b&&"object"==g(b)?a.replace(/\{([^{}]+)\}/g,function(a,c){var d=b[c];return void 0!==d?""+d:""}):a.toString()},function(b,j){var k,l,m,n,o,p,q,r,s,t,u,v,x,y,z,A,B,C;b=f(b),j=h({teml:a,css:"",data:null,onBefore:function(){},onAfter:function(){}},j),k="px ",l=void 0,m=j.id,d=m||e("proModule"),c(),n=j.keyId,o=j.column||"1",p=function(a,b){return isNaN(parseInt(a))?b:parseInt(a)},q=function(a,b){return isNaN(parseFloat(a))?b:parseFloat(a)},r=p(j.unLazyNum,0),s=q(j.rowSpace,5)/2,t=q(j.colSpace,5)/2,u=q(j.paddingTop,10),v=q(j.paddingBottom,10),j.moduleSpm,x=j.moduleName||"",y=j.backgroundColor,z=function(a){var e,g,k,f,l,p,m,n,c=("https:"==location.protocol?"https:":"http:")+CY.serverUtil.imgUrl+"/";if(!a||!a.length)return h(b.style,{display:"none"});for(j.onBefore(a,j,b),e=[],a.sort(function(a,b){return b.sort-a.sort}),f=0,l=a.length;l>f;f++)k=a[f],k.index=f+1,k.topCss="top_"+k.index,k.storedCount=Math.max(0,k.storedCount),k.coverCss="l-cover-"+k.storedCount,!/^http/.test(k.centerPic)&&!/^data:/.test(k.centerPic)&&(k.centerPic=c+k.centerPic),g=Number(k.price/100).toFixed(2).split("."),k.bamount="<font>"+g[0]+".</font>",k.aamount="<sub>"+g[1]+"</sub>",k.link="/mall/#/goodsDetail?productId="+k.productId,k.storedCount<0&&(k.storedCount=0),"cust"==k.payType||"cash"==k.payType?(k.priceHtml="<span><b>￥</b>"+(k.bamount+k.aamount)+"<b>元</b></span>","cust"==k.payType&&(k.label="任意积分抵扣","01"==k.displayEnable&&(k.label="支持现金购买",k.priceHtml="<span>"+k.price+"</span>积分"))):k.priceHtml="comb"==k.payType?"<span>"+k.points+"</span>积分 + <span><b>￥</b>"+(k.bamount+k.aamount)+"</span>":"<span>"+k.points+"</span>积分",m=j.teml,n=[s,t,s,t],o>f?n[0]=0:(p=l%o,p=0==p?o:p,f>=l-p&&(n[2]=0)),m=m.replace(/(class="l-item")/,'$1 style="padding:'+n.join("px ")+'px"'),e.push(i(m,k));r&&e.forEach(function(a,b){r>b&&(e[b]=a.replace(/ src="/," "+d+' crs="'),e[b]=e[b].replace(/ realSrc="/," "+d+' src="'))}),b.innerHTML='<div class="content">'+e.join("")+"</div>",r&&function(a){for(var b=0,c=a.length;c>b;b++)r>b&&function(a){a.onload=function(){a.removeAttribute(d)}}(a[b])}(b.querySelectorAll("img")),setTimeout(function(){CY.lazyloadUtil()},15),setTimeout(function(){b.classList.remove("minHeight")},2e3),j.onAfter(a,j,b)},b.setAttribute(d,""),!b.id&&b.setAttribute("id",d),b.setAttribute("title",x),b.setAttribute("keyId",n),b.classList.add("proModule"),b.classList.add("minHeight"),b.classList.add("proModule"+o),h(b.style,{paddingLeft:t+k}),h(b.style,{paddingRight:t+k}),l!=u&&(0>u?h(b.style,{marginTop:u+k}):h(b.style,{paddingTop:u+k})),l!=v&&(0>v?h(b.style,{marginBottom:v+k}):h(b.style,{paddingBottom:v+k})),y&&h(b.style,{backgroundColor:y}),j.spm&&(b.setAttribute("data-spm",j.spm),b.setAttribute("data-spm-type","all")),j.data?(B=g(j.data),"array"==B?A=j.data:"object"==B&&(A=[j.data]),A&&z(A)):(C=function(){CY.serverUtil.loadRecommend({keyIds:n,url:"/pointgate/service/product/newRecommend"},function(a,b){z(b)})},C())}}(),a.CY.proModule=c,c)});