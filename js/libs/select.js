!function(a,b){if("undefined"!=typeof module)require("./tooltip"),module.exports=b(a);else if(b(a),"function"==typeof define&&(define.amd||define.cmd)){var c="//"+(!/ppppoints.com/.test(document.domain)?"j.changyoyo.com":"j.ppppoints.com")+"/static/js/";requirejs.config({paths:{tooltip:c+"libs/tooltip"}}),define("select",["tooltip"],function(){return b(a)})}}(window||this,function(a){var c,d,e,g,h,i,j,k,l,m,n,o;return!a.CY&&(a.CY={}),a.CY.select?a.CY.select:(c=void 0,d=function(a,b,c){b.split(" ").forEach(function(b){a.addEventListener(b,c,!1)})},e=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelector(a):null},g=function(a){return Object.prototype.toString.call(a).split(/\s(\w+)/)[1].toLowerCase()},h=function(a,b){a=a||[];for(var c=0,d=a.length;d>c&&0!=b.call(a[c],c,a[c]);c++);},i=function(a,b){a=document.createElement(a);for(var c in b)b.hasOwnProperty(c)&&("style"==c?j(a.style,b[c]):a[c]=b[c]);return a},j=function(a,b){for(var c in b)b.hasOwnProperty(c)&&("object"==g(b[c])?a[c]=j(a[c]||{},b[c]):"array"==g(b[c])?a[c]=j(a[c]||[],b[c]):void 0!=b[c]&&(a[c]=b[c]));return a},k=function(a,b){return b&&"object"==g(b)?a.replace(/\{([^{}]+)\}/g,function(a,c){var d=b[c];return void 0!==d?""+d:""}):a.toString()},l=function(a,b){for(var c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1},m={has:function(a,b){return l(b,(a.className||"").split(/\s+/))>-1},add:function(a,b){!this.has(a,b)&&(a.className+=(a.className?" ":"")+b)},remove:function(a,b){var c=[];h((a.className||"").split(/\s+/),function(a,d){d!=b&&c.push(d)}),a.className=c.join(" ")}},n=function(){var b,a=[];a.push(".selectText{width: 114px;height:28px;position:relative;margin-bottom:-1px;cursor:pointer;background-color:#fff;border: 1px solid #dcdfe6;border-radius: 5px;z-index: 1001;}"),a.push(".selectText .areaInp{line-height:27px;overflow:hidden;margin:0 20px 0 8px;_margin-left:0px;white-space:nowrap;text-overflow:ellipsis;*+text-indent:8px;color:#333}"),a.push(".selectText .areaInp font{color: #606266;}"),a.push(".selectText .areaInp i{margin:0 2px;font-weight:bold}"),a.push(".selectText .iIcon{position:absolute;width: 24px;height:25px;right:1px;top:1px;padding:0px;background-color:#fff;}"),a.push('.selectText .iIcon:after{content:" ";position:absolute;transition:transform 100ms;color: #c0c4cc;transform:rotate(497deg);border-top: 1px solid #c0c4cc;border-right: 1px solid #c0c4cc;width: 6px;height: 6px;top:50%;left:50%;margin: -6px 0 0 -3px;}'),a.push(".__cytooltipFocus.selectText .iIcon:after{transform:rotate(315deg);margin:-3px 0 0 -5px}"),a.push("div.cyselect{background-color:#fff;color:#606266;padding:2px 0px;border:1px solid #dcdfe6;margin-top:-1px}"),a.push("div.cyselect .option{padding:3px 5px}"),a.push("div.cyselect .option:hover{background-color:#f5f7fa}"),b=document.createElement("style"),b.type="text/css",b.innerHTML=a.join(""),document.getElementsByTagName("head")[0].appendChild(b),n=function(){}},o=function(a,b){var f,l,o,p,q,r,s,t,u,v,w,x;return a=e(a),n(),b=j({width:100,attrText:"text",attrValue:"value",selected:"",data:[]},b||{}),f=[],b.onChange&&f.push(b.onChange),o=a.tagName.toLowerCase(),p=function(){var a=[],c='<option value="{'+b.attrValue+'}">{'+b.attrText+"}</option>";return h(b.data,function(b,d){a.push(k(c,d))}),a.join("")},/select|input/.test(o)?(l=a,"select"==o?(b.data=[],h(l.options,function(a,c){var d={};d[b.attrText]=c.text,d[b.attrValue]=c.value,b.data.push(d),c.selected&&(b.selected=c.value)})):a.value&&(b.selected=a.value)):(l=i("select",{innerHTML:p(),style:{display:"none"}}),a.parentNode.insertBefore(l,a),o="select"),null!=a.getAttribute("disabled")&&(b.disabled=!0),a.style.display="none",q=b.width.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),r=a.parentNode.insertBefore(i("div",{className:"selectText",style:{width:q[2]+(q[3]||"px")},innerHTML:'<div class="areaInp"><font></font></div><div class="iIcon"></div>'}),a),s=function(a){/input/.test(o)?l.value=a[b.attrValue]==c?a[b.attrText]:a[b.attrValue]:h(l.options,function(c,d){d[b.attrValue]==a[b.attrValue]&&(d.selected=!0)})},t=function(a){r.getElementsByTagName("font")[0].innerHTML=a[b.attrText]||a[b.attrValue]},u=function(){var a=[],c='<div class="option {selected}" index="{index}">{'+b.attrText+"}</div>";h(b.data,function(d,e){e.index=d,b.selected!=e[b.attrValue]&&(a.push(k(c,e)),delete e.selected)}),v.innerHTML=a.join("")},w={setValue:function(a){h(b.data,function(c,d){if(d[b.attrValue]==a){var e=b.data[c];b.data.splice(c,1),b.data.unshift(e),b.selected=a,s(d),t(d),u()}})},onChange:function(a){f.push(a)},setData:function(a){"array"==g(a)&&a.length&&(b.data=a,"select"==o&&(l.innerHTML=p()),this.setValue(a[0][b.attrValue]))},setDisabled:function(a){b.disabled=Boolean(a),x.setDisabled(b.disabled)}},x=CY.tooltip(r,{width:b.width||100,className:"cyselect",eventType:"click",placement:"bottom",content:"",disabled:b.disabled,callback:function(a){v=a,u(),b.selected&&w.setValue(b.selected),d(a,"click",function(a){var d,c=a.target||a.srcElement;m.has(c,"option")&&(d=b.data[c.getAttribute("index")],w.setValue(d[b.attrValue]),f.forEach(function(a){a.call(w,d)}))}),w.setValue(b.selected)}}),w},a.CY.select=o,o)});