!function(a,b){if("undefined"!=typeof module)require("../utils/ajaxUtil"),require("../utils/serverUtil"),require("../utils/lazyloadUtil"),module.exports=b(a);else if(b(a),"function"==typeof define&&(define.amd||define.cmd)){var c="//"+(!/ppppoints.com/.test(document.domain)?"j.changyoyo.com":"j.ppppoints.com")+"/static/js/";requirejs.config({paths:{ajaxUtil:c+"utils/ajaxUtil",serverUtil:c+"utils/serverUtil",lazyloadUtil:c+"utils/lazyloadUtil"}}),define("killModule",["ajaxUtil","serverUtil","lazyloadUtil"],function(){return b(a)})}}(window||this,function(a){var c,b,d,e;return!a.CY&&(a.CY={}),a.CY.killModule?a.CY.killModule:(b=document,e=function(a){return a+(Math.random()+"").slice(9)},c=function(){var c,f,g,h,i,a=[];return a.push('<div class="l-item {coverCss}">'),a.push('    <a href="{link}" data-spm="{keyId}">'),a.push("        <article>"),a.push('            <span class="top {topCss}"></span>'),a.push('            <span class="l-img">'),a.push('                <img alt="{goodsName}" realSrc="{centerPic}">'),a.push("                <label>{label}</label>"),a.push("            </span>"),a.push('            <span class="l-wrap">'),a.push('                <span class="l-title">{goodsName}</span>'),a.push('                <span class="l-minPrice">'),a.push("                    <span>{priceHtml}</span>"),a.push("                </span>"),a.push('                <span class="l-btn">立即购买</span>'),a.push("            </span>"),a.push('            <span class="l-cover"><b>抢光了</b></span>'),a.push("        </article>"),a.push("    </a>"),a.push("</div>"),a=a.join(""),c=function(a){var e,f,c=[];c.push(".killModule["+d+"] *{box-sizing: border-box;}"),c.push(".killModule["+d+"]{overflow:hidden;padding:0;box-sizing: border-box;}"),c.push(".killModule img["+d+"]{min-height: 100px;}"),c.push(".killModule["+d+"] .l-item{padding:0.05rem 0.05rem}"),c.push(".killModule["+d+"] .l-item article{width:100%;height:100%}"),c.push(".killModule["+d+"] .l-item a{position:relative;display:block;background-color:#fff;padding:0.15rem 0.1rem 0.15rem 0.1rem;}"),c.push(".killModule["+d+"] .l-item .top{display:none}"),c.push(".killModule["+d+"] .l-item .l-title{font-size:0.3rem;color:#666;display:block;line-height:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0 0.07rem;padding-top:0.2rem}"),c.push(".killModule["+d+"] .l-item .l-img{min-height: 0.8rem;width:100%;position:relative;display:block}"),c.push(".minHeight.killModule["+d+"] .l-item .l-img{min-height: 2rem;}"),c.push(".killModule["+d+"] .l-item .l-img label{position:absolute;top:0;left:0;background-image:url(/event/2018/activePlatform/img/pro_tip.png);background-repeat:no-repeat;background-size:100% 100%;padding:0 .3rem 0 .1rem;color:#fff;font-size:.24rem}"),c.push(".killModule["+d+"] .l-item .l-img img{width:100%;display:block;height:100%}"),c.push(".killModule["+d+"] .l-item .l-wrap .l-title{font-size:.28rem;color:#333;display:block;line-height:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0 0.07rem;padding-top:0.2rem}"),c.push(".killModule["+d+"] .l-item .l-wrap .l-minPrice{height: 22px;display:inline-flex;align-items:center;color:#FF2851;margin-top:0.1rem;padding:0 0.07rem;position:relative}"),c.push(".killModule["+d+'] .l-item .l-wrap .l-minPrice b{font-size:0.2rem;font-family:"microsoft yahei"}'),c.push(".killModule["+d+"] .l-item .l-wrap .l-minPrice del{font-size: 15px;opacity: 0.5;color:#000000;display: none;margin-right: 2px;top: 1px;position: relative;}"),c.push(".killModule["+d+"] .l-item .l-wrap .l-minPrice font{font-size:0.3rem}"),c.push(".killModule["+d+"] .l-item .l-wrap .l-minPrice sub{font-size:0.2rem;position:relative;vertical-align:baseline}"),c.push(".killModule["+d+"] .l-item .l-wrap .l-minPrice label{margin-left:0.15rem;background-image:url(/event/2018/activePlatform/img/zjl_icon_006.jpg);background-repeat:no-repeat;background-size:100% 100%;display:inline-block;width:1.05rem;height:0.34rem;overflow:hidden;text-indent:-10rem;position:relative}"),c.push(".killModule["+d+"] .l-item .l-wrap .l-des{display:block;margin-top:0.22rem}"),c.push(".killModule["+d+"] .l-item .l-wrap .l-btn{margin: 0 0.04rem;height:.7rem;line-height:.7rem;color:#000;display:block;background-image:linear-gradient(-116deg,#EAC588 0%,#D09350 95%);border-radius:0.15rem;font-size:.36rem;text-align:center;letter-spacing:.05rem;background-image:linear-gradient(90deg,#FEBA80 0%,#FC7260 90%);box-shadow:0 0.10rem 0.10rem 0 #FFD4BF}"),c.push(".killModule["+d+"] .l-item .l-cover{display:none;position:absolute;top:10%;left:50%;background:#000;border-radius:2rem;text-align:center;color:#fff;font-size:0.4rem;opacity:.4;width:1.5rem;height:1.5rem;line-height:1.5rem;margin-left:-0.7rem}"),c.push(".killModule["+d+"] .l-item.isEnd0 .l-cover{display:block}"),c.push(".killModule["+d+"] .l-item.isEnd0 .l-btn{background-image: linear-gradient(-116deg, #EFEFEF 0%, #B1B1B1 95%);color:#707070; box-shadow: 0 0.05rem 0.05rem 0 #B1B1B1;}"),c.push(".killModule["+d+"] .l-item .l-cover b{font-weight:normal}"),c.push(".killModule2["+d+"]{}"),c.push(".killModule2["+d+"] .l-item{width:50%;float:left}"),c.push(".killModule2["+d+"] .l-item a{padding:0.1rem 0.1rem 0.15rem 0.1rem;}"),c.push(".killModule2["+d+"] .l-item .l-wrap .l-btn{height:.6rem;line-height:.6rem;border-radius:.30rem;font-size:.30rem}"),c.push(".killModule3["+d+"]{}"),c.push(".killModule3["+d+"] .l-item{width:33.3%;float:left}"),c.push(".killModule3["+d+"] .l-item .l-wrap .l-minPrice{font-size: 0.12rem;display: block;text-align: center;}"),c.push(".killModule3["+d+"] .l-item a{padding:0.06rem 0.05rem 0.15rem 0.05rem}"),c.push(".killModule3["+d+"] .l-item .l-img label{transform:scale(0.9);margin-left:-0.06rem}"),c.push(".killModule3["+d+"] .l-item .l-wrap .l-btn{height:.5rem;line-height:.5rem;border-radius:.25rem;font-size:.28rem}"),e=b.createElement("style"),e.type="text/css",f=c.join(""),a&&(f=f.replace(/((-?\d*?\.?\d*)rem)/g,function(b,c){var d=parseFloat(c);return 100*d*a/750/100+"rem"})),e.innerHTML=f,b.getElementsByTagName("head")[0].appendChild(e)},f=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelector(a):null},g=function(a){return Object.prototype.toString.call(a).split(/\s(\w+)/)[1].toLowerCase()},h=function(a,b){for(var c in b)b.hasOwnProperty(c)&&("object"!=g(b[c])?void 0!=b[c]&&(a[c]=b[c]):a[c]=h(a[c]||{},b[c]));return a},i=function(a,b){return b&&"object"==g(b)?a.replace(/\{([^{}]+)\}/g,function(a,c){var d=b[c];return void 0!==d?""+d:""}):a.toString()},function(b,j){var k,l,m,n,o,p,q,r,s,t,u,v,x,y,z,A,B,C;b=f(b),j=h({teml:a,css:"",data:null,onBefore:function(){},onAfter:function(){}},j),k="px ",l=void 0,m=j.id,d=m||e("killModule"),c(j.rem),n=j.keyId,o=j.column||"1",p=function(a,b){return isNaN(parseInt(a))?b:parseInt(a)},q=function(a,b){return isNaN(parseFloat(a))?b:parseFloat(a)},r=p(j.unLazyNum,0),s=q(j.rowSpace,5)/2,t=q(j.colSpace,5)/2,u=q(j.paddingTop,10),v=q(j.paddingBottom,10),j.moduleSpm,x=j.moduleName||"",y=j.backgroundColor,z=function(a){var e,k,f,l,m,u,p,q,c=("https:"==location.protocol?"https:":"http:")+CY.serverUtil.imgUrl+"/";if(!a||!a.length)return h(b.style,{display:"none"});for(j.onBefore(a,j,b),e=[],a.sort(function(a,b){return b.sort-a.sort}),f=0,l=a.length;l>f;f++)k=a[f],k.index=f+1,k.topCss="top_"+k.index,k.storedCount<0&&(k.storedCount=0),k.storedCount=Math.max(0,k.storedCount),k.coverCss="isEnd"+k.storedCount,!/^http/.test(k.centerPic)&&!/^data:/.test(k.centerPic)&&(k.centerPic=c+k.centerPic),k.bamount="<font>"+k.price/100+"</font>",k.aamount="",k.link="/mall/#/flashSale?productId="+k.productId+"&channelNo="+n,"cust"==k.payType||"cash"==k.payType?(k.priceHtml="<span><b></b>"+(k.bamount+k.aamount)+"<b>元</b></span>","cust"==k.payType&&(k.label="任意积分抵扣","01"==k.displayEnable&&(k.label="支持现金购买",k.priceHtml="<span>"+k.price+"</span>积分"))):"comb"==k.payType?(m="<span>"+k.points+"</span>积分 + ",k.priceHtml=(k.points>0?m:"")+"<span><b></b>"+(k.bamount+k.aamount)+"</span>"):k.priceHtml="<span>"+k.points+"</span>积分",k.priceHtml="<del>"+k.marketPrice/100+"</del>  "+k.priceHtml,p=j.teml,q=[s,t,s,t],o>f?q[0]=0:(u=l%o,u=0==u?o:u,f>=l-u&&(q[2]=0)),p=p.replace(/(class="l-item")/,'$1 style="padding:'+q.join("px ")+'px"'),e.push(i(p,k));r&&e.forEach(function(a,b){r>b&&(e[b]=a.replace(/ src="/," "+d+' crs="'),e[b]=e[b].replace(/ realSrc="/," "+d+' src="'))}),b.innerHTML='<div class="content">'+e.join("")+"</div>",r&&function(a){for(var b=0,c=a.length;c>b;b++)r>b&&function(a){a.onload=function(){a.removeAttribute(d)}}(a[b])}(b.querySelectorAll("img")),setTimeout(function(){CY.lazyloadUtil()},15),setTimeout(function(){b.classList.remove("minHeight")},2e3),j.onAfter(a,j,b)},b.setAttribute(d,""),!b.id&&b.setAttribute("id",d),b.setAttribute("title",x),b.setAttribute("keyId",n),b.classList.add("killModule"),b.classList.add("minHeight"),b.classList.add("killModule"+o),h(b.style,{paddingLeft:t+k}),h(b.style,{paddingRight:t+k}),l!=u&&(0>u?h(b.style,{marginTop:u+k}):h(b.style,{paddingTop:u+k})),l!=v&&(0>v?h(b.style,{marginBottom:v+k}):h(b.style,{paddingBottom:v+k})),y&&h(b.style,{backgroundColor:y}),j.spm&&(b.setAttribute("data-spm",j.spm),b.setAttribute("data-spm-type","all")),j.data?(B=g(j.data),"array"==B?A=j.data:"object"==B&&(A=[j.data]),A&&z(A)):(C=function(){CY.ajaxUtil.loadData("/pointgate/mall/service/panicBuying/query",{method:"POST",standard:!0,body:{activityId:n}}).then(function(a){"0000"==a.respCode&&z(a.data.goodsList)})},C())}}(),a.CY.killModule=c,c)});