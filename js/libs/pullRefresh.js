!function(a,b){"undefined"!=typeof module?module.exports=b(a):(b(a),"function"==typeof define&&(define.amd||define.cmd)&&define("pullRefresh",function(){return b(a)}))}(window||this,function(a){var b,c,d,e,g,h,k,l,m,n,o,p,q,r,s;return!a.CY&&(a.CY={}),a.CY.pullRefresh?a.CY.pullRefresh:(b=document,c=function(a,b,c){b.split(" ").forEach(function(b){a.addEventListener(b,c,!1)})},d=function(a,b,c){b.split(" ").forEach(function(b){a.removeEventListener(b,c)})},e=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelector(a):null},g=function(a){return Object.prototype.toString.call(a).split(/\s(\w+)/)[1].toLowerCase()},h=function(a,b){for(var c in b)b.hasOwnProperty(c)&&("object"!=g(b[c])?void 0!=b[c]&&(a[c]=b[c]):a[c]=h(a[c]||{},b[c]));return a},k=function(a,c){return a=b.createElement(a),c&&(a.className=c),a},l=function(a){var c="clientHeight",d=b.documentElement;return a==window||a==b?d[c]||b.body[c]:a.offsetHeight},m=function(a,c){var d="scrollTop",e=b.documentElement;return c?(a==window||a==b?(e[d]=c,b.body[d]=c):a[d]=c,void 0):a==window||a==b?e[d]||b.body[d]:a[d]},n=function(a){var c="scrollHeight",d=b.documentElement;return a==window||a==b?d[c]||b.body[c]:a[c]},p=function(a){return a+(Math.random()+"").slice(9)},q=function(){var c,a=[];a.push(".loadMore["+o+"]{text-align:center;color:#999;font-size:14px;position: absolute;bottom: 10px;left: 0;right: 0;}"),a.push(".loadMore["+o+"] .loadMore p{padding:10px 0;}"),a.push(".loadMore["+o+"] .loadMore .onShow{}"),a.push(".loadMore["+o+"] .loadMore .onLoad{background-image:url(data:image/gif;base64,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);background-repeat:no-repeat;background-size:16px 16px;background-position:left center;width:113px;margin:auto;text-align:center}"),a.push(".loadMore["+o+"] .loadMore .onEnd{}"),c=b.createElement("style"),c.type="text/css",c.innerHTML=a.join(""),b.getElementsByTagName("head")[0].appendChild(c)},r=null,s=function(a){var f,g,i,j,s,t,v,u,y,w,x,z,A,B,C;return r&&r.unbind(),a=h({onShowCss:"onShow",onLoadCss:"onLoad",onEndCss:"onEnd",onShow:"点击加载更多",onLoad:"正在加载...",onEnd:"已经到底啦!",height:130,appElem:"body",scrollElem:"body"},a||{}),o=p("pullRefresh"),q(),f=document,g=e(a.appElem),i=e(a.scrollElem),j=k("div","loadMore"),s=k("p","onShow"),i?(j.setAttribute(o,""),j.appendChild(s),g.appendChild(j),i!=b.body&&(f=i),t=i==b.body?window:i,u=a.height,w=[],x=!1,z=!1,A=function(){var d,a=m(f),b=n(f),c=l(f);u>b-(c+a)&&!x&&!z?(y=a,d=!0,w.forEach(function(a){a()===!1&&(d=!1)}),d&&C.onLoad()):c>b&&C.endPull()},c(s,"click",function(){A()}),B=function(){clearTimeout(v),v=setTimeout(function(){A()},30)},c(t,"scroll resize",B),C={callback:function(a){w.push(a)},onShow:function(){s.innerHTML=a.onShow,s.className=a.onShowCss},onLoad:function(){s.innerHTML=a.onLoad,z=!0,s.className=a.onLoadCss},endPull:function(a){a?this.onEnd():this.onShow(),z=!1,j.appendChild(s),m(f,y)},onEnd:function(){x=!0,s.innerHTML=a.onEnd,s.className=a.onEndCss},refresh:function(){A()},unbind:function(){z=!1,d(t,"scroll resize",B)}},C.onShow(),r=C,C):void 0},a.CY.pullRefresh=s,s)});