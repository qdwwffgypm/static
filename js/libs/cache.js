!function(a,b){"undefined"!=typeof module?module.exports=b(a):(b(a),"function"==typeof define&&(define.amd||define.cmd)&&define("cache",function(){return b(a)}))}(window||this,function(a){var b,c,d,e;return!a.CY&&(a.CY={}),a.CY.cache?a.CY.cache:(b={},c=!1,d={ext:"__t__m_",t:18e5},e={debug:!1,set:function(a,e,f){var g=this,h=(new Date).getTime()+((g.debug?1:f)||d.t);g.localStorage?(c&&g.runClear(),g.localStorage.setItem(a,JSON.stringify(e)),g.localStorage.setItem(d.ext+a,h)):b[a]=e},get:function(a){var f,g,e=this;return e.localStorage?(c&&e.runClear(),g=e.localStorage.getItem(d.ext+a),f=e.localStorage.getItem(a),f=JSON.parse(f),f&&g&&(new Date).getTime()>g&&(f=null,e.del(a))):f=b[a],f},del:function(a){var c=this;delete b[a],c.localStorage&&(c.localStorage.removeItem(a),c.localStorage.removeItem(d.ext+a))},runClear:function(){var b,e,g,h,f=a.localStorage;if(f){b=d.ext,e=(new Date).getTime();for(h in f)g=f.getItem(b+h)||0,g&&g>0&&e>g&&(f.removeItem(h),f.removeItem(b+h));c=!1}},toCacheImg:function(a,b){var f,c=this,d=a.currentSrc.split(".com/")[1];d&&!e.get(d)&&(f=c.getBase64Img(a,d.split(".")[1]),f&&e.set(d,f,b))},getBase64Img:function(a,b){var d,c=document.createElement("canvas");c.width=a.width,c.height=a.height,d=c.getContext("2d"),d.drawImage(a,0,0,a.width,a.height);try{return c.toDataURL("image/"+b)}catch(e){return null}},localStorage:function(){var b=a.localStorage;if(b)try{return b.setItem("__has_",!0),b.removeItem("__has_"),b}catch(c){return!1}return setTimeout(function(){e.runClear()},0),!1}()},a.CY.cache=e,e)});