!function(a,b){"undefined"!=typeof module?module.exports=b(a):(b(a),"function"==typeof define&&(define.amd||define.cmd)&&define("offset",function(){return b(a)}))}(window||this,function(a){function h(a){return!b&&(b=document),b.documentElement["getBoundingClientRect"]?f(a):g(a)}var b,c,d,e,f,g;return!a.CY&&(a.CY={}),a.CY.offset?a.CY.offset:(c=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelector(a):null},d=function(b,c){return a.getComputedStyle?a.getComputedStyle(b,null)[c]:b.currentStyle[c]},e=function(){if(void 0!=e.boxModel)return e.boxModel;var a=b.createElement("div");return a.style.width=a.style.paddingLeft="1px",b.body.appendChild(a),e.boxModel=2===a.offsetWidth,b.body.removeChild(a).style.display="none",e.boxModel},f=function(a){if(a=c(a),!a)return{top:0,left:0};if(a===a.ownerDocument.body)return h.bodyOffset(a);var b=a.getBoundingClientRect(),d=a.ownerDocument,f=d.body,g=d.documentElement,i=g.clientTop||f.clientTop||0,j=g.clientLeft||f.clientLeft||0,k=b.top+(a.pageYOffset||e()&&g.scrollTop||f.scrollTop)-i,l=b.left+(a.pageXOffset||e()&&g.scrollLeft||f.scrollLeft)-j;return{top:k,left:l}},g=function(a){if(a=c(a),!a)return{top:0,left:0};if(a===a.ownerDocument.body)return h.bodyOffset(a);h.initialized||h.initialize();for(var f,b=a.offsetParent,d=a,e=a.ownerDocument,g=e.documentElement,i=e.body,j=e.defaultView,k=j.getComputedStyle(a,null),l=a.offsetTop,m=a.offsetLeft;(a=a.parentNode)&&a!==i&&a!==g;)f=j.getComputedStyle(a,null),l-=a.scrollTop,m-=a.scrollLeft,a===b&&(l+=a.offsetTop,m+=a.offsetLeft,!h.doesNotAddBorder||h.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(a.tagName)||(l+=parseInt(f.borderTopWidth,10)||0,m+=parseInt(f.borderLeftWidth,10)||0),d=b,b=a.offsetParent),h.subtractsBorderForOverflowNotVisible&&"visible"!==f.overflow&&(l+=parseInt(f.borderTopWidth,10)||0,m+=parseInt(f.borderLeftWidth,10)||0),k=f;return("relative"===k.position||"static"===k.position)&&(l+=i.offsetTop,m+=i.offsetLeft),"fixed"===k.position&&(l+=Math.max(g.scrollTop,i.scrollTop),m+=Math.max(g.scrollLeft,i.scrollLeft)),{top:l,left:m}},h.initialize=function(){if(!this.initialized){var c,d,f,g,h,a=document.body,b=document.createElement("div"),i=a.style.marginTop,j='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';g={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(h in g)b.style[h]=g[h];b.innerHTML=j,a.insertBefore(b,a.firstChild),c=b.firstChild,d=c.firstChild,f=c.nextSibling.firstChild.firstChild,this.doesNotAddBorder=5!==d.offsetTop,this.doesAddBorderForTableAndCells=5===f.offsetTop,c.style.overflow="hidden",c.style.position="relative",this.subtractsBorderForOverflowNotVisible=-5===d.offsetTop,a.style.marginTop="1px",this.doesNotIncludeMarginInBodyOffset=0===a.offsetTop,a.style.marginTop=i,a.removeChild(b),this.initialized=!0}},h.bodyOffset=function(a){h.initialized||h.initialize();var b=a.offsetTop,c=a.offsetLeft;return h.doesNotIncludeMarginInBodyOffset&&(b+=parseInt(d(a,"marginTop"),10)||0,c+=parseInt(d(a,"marginLeft"),10)||0),{top:b,left:c}},a.CY.offset=h,h)});