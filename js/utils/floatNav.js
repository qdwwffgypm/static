!function(a,b){if("undefined"!=typeof module)require("../libs/offset"),module.exports=b(a);else if(b(a),"function"==typeof define&&(define.amd||define.cmd)){var c="//"+(!/ppppoints.com/.test(document.domain)?"j.changyoyo.com":"j.ppppoints.com")+"/static/js/";requirejs.config({paths:{offset:c+"libs/offset"}}),define("floatNav",["offset"],function(){return b(a)})}}(window||this,function(a){var b,c,d,f,g,h,i,k,l,m,n,o,p,q,r,s,t;return!a.CY&&(a.CY={}),a.CY.floatNav?a.CY.floatNav:(b=document,d=b.documentElement,f=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelector(a):null},g=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelectorAll(a):null},h=function(a){return Object.prototype.toString.call(a).split(/\s(\w+)/)[1].toLowerCase()},i=function(a,b,c){k("array"!=h(a)?[a]:a,function(a,d){b.split(" ").forEach(function(a){d.addEventListener(a,c,!1)})})},k=function(a,b){a=a||[];for(var c=0,d=a.length;d>c&&0!=b.call(a[c],c,a[c]);c++);},l=function(a,c){return a=b.createElement(a),n(a.style,c||{}),a},m=function(b,c){return a.getComputedStyle?a.getComputedStyle(b,null)[c]:b.currentStyle[c]},n=function(a,b){for(var c in b)b.hasOwnProperty(c)&&("object"!=h(b[c])?void 0!=b[c]&&(a[c]=b[c]):a[c]=n(a[c]||{},b[c]));return a},o=function(){var a,b=[],c=function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},d=function(a,b,c,d){return c*a/d+b};return function(e,f,g,h,i,j){var q,k=parseInt(e[f])||0,l=0,m=h||500,n=+new Date,o=Math.abs(k-g),p=g>k?!0:!1,r="",s=function(a){return m>l&&!a?(l=+new Date-n,q=j?d(l,0,o,m):c(l,0,o,m),e[f]=(p?k+q:k-q)+r,void 0):(e[f]=(p?k+o:k-o)+r,i&&i(),!0)};return s.elem=e,s.callback=function(){return i&&i(),!0},b&&b.length?b.push(s):(b=[s],clearInterval(a),a=setInterval(function(){for(var a=b.length-1;a>=0;a--)b[a]()&&b.splice(a,1)},15),void 0)}}(),p={menuItem:"",elemItem:"",goTop:"",currCss:"curr",speeds:[],moveTime:300,deferTime:1e3},q=function(a,b){var d=this;return d instanceof q?(d._opts=n(n({},p),a||{}),setTimeout(function(){c=f("body"),d.init(b)},d._opts.deferTime||0),void 0):new q(a,b)},q.prototype={_isStop:!1,init:function(a){var c=this;i(b,"click",function(a){c.clickMenu(a)}),i(e,"scroll reset",function(){c.scrollElem()}),c.scrollElem(),a&&a.call(c,c._opts)},getCalcNum:function(){var f,h,i,e=this,j=!0,l=Math.min(d.clientHeight||c.clientHeight,500),m=d.scrollTop||c.scrollTop||0,n=g(e._opts.elemItem);return k(n,function(c,d){var g=e._opts.speeds[c]||0,j=b.documentElement.scrollTop||0,k=a.CY.offset(d).top+g+(s()?0:j),n=r.height(d),o=k+n,p=m+l;void 0==f&&k>m&&p>o&&(f=c+""),void 0==f&&m>k&&o>p&&(f=c+""),void 0==h&&k>m&&p>k&&(h=c+""),void 0==i&&p>o&&o>m&&(i=c+"")}),e.__dst>m&&(j=!1),e.__dst=m,e.__dst>1e3&&!f&&!h&&!i&&(f=n.length-1),f||(j?h||i:i||h)||0},setMenu:function(a){var b=this._opts;k(b.menuItem,function(c,d){d.classList.remove(b.currCss),a==c&&d.classList.add(b.currCss)})},setElem:function(c,d){var e=this,f=e._opts,h=f.speeds[c]||0,i=b.documentElement.scrollTop||0;h+=a.CY.offset(g(f.elemItem)[c]).top+1+(s()?0:i),o(b.documentElement,"scrollTop",h,f.moveTime,function(){d&&d()})},clickMenu:function(a){for(var j,d=this,e=a.target||a.srcElement,h=[e],i=g(d._opts.menuItem);e&&e!=c;)1==e.nodeType&&h.push(e),e=e["parentNode"];k(i,function(a,b){k(h,function(){this==b&&(d._isStop=!0,d.setMenu(a),d.setElem(a,function(){d._isStop=!1}))})}),j=f(d._opts.goTop),j&&k(h,function(a,c){j==c&&o(b.documentElement,"scrollTop",0,d._opts.moveTime,function(){})})},scrollElem:function(){!this._isStop&&this.setMenu(this.getCalcNum())}},r=function(a){var b={},d=a.documentElement,c=function(){if(void 0!=b.boxModel)return b.boxModel;var c=a.createElement("div");return c.style.width=c.style.paddingLeft="1px",a.body.appendChild(c),b.boxModel=2===c.offsetWidth,a.body.removeChild(c).style.display="none",b.boxModel};return k(["Height","Width"],function(c,e){b[e.toLowerCase()]=function(b){return b=f(b),b==window?"CSS1Compat"==a.compatMode&&d["client"+e]||a.body["client"+e]:b==document?Math.max(d["client"+e],a.body["scroll"+e],d["scroll"+e],a.body["offset"+e],d["offset"+e]):b["offset"+e]}}),k(["Left","Top"],function(e,g){var h="scroll"+g;b[h]=function(b){return b=f(b),b==window||b==a?b[e?"pageYOffset":"pageXOffset"]||c()&&d[h]||a.body[h]:b[h]}}),b}(document),s=function(){if(void 0!=s.boxModel)return s.boxModel;var a=b.createElement("div");return a.style.width=a.style.paddingLeft="1px",b.body.appendChild(a),s.boxModel=2===a.offsetWidth,b.body.removeChild(a).style.display="none",s.boxModel},t=function(c,d){var e,g,j,p,q,t,u,k=[],o=window;return d=n({top:0,container:window,onChange:function(){}},d||{}),(c=f(c))?(k.push(d.onChange),d.container!=window&&(o=p),q=f(d.container),t=null,u=m(c,"top"),j={scroll:function(){var f,i,p;if(c&&!(c.offsetHeight<1))if(f=o==window?b.documentElement.scrollTop||0:o.scrollTop||0,t=e?a.CY.offset(e).top+(s()?0:f):a.CY.offset(c).top+(s()?0:f),k.forEach(function(a){var b=a();"number"==h(b)&&(d.top=b)}),i=d.top,c.offsetHeight,p=r.scrollTop(o),p+i>=t){if(e)return;g=m(c,"position"),e=l("div",{width:c.offsetWidth+"px",height:c.offsetHeight+"px"}),c.parentNode.insertBefore(e,c),n(c.style,{top:i+"px",width:c.offsetWidth+"px",position:"fixed"}),c.classList.add("isFixed")}else e&&(n(c.style,{position:g,top:u}),e.parentNode.insertBefore(c,e),e.parentNode.removeChild(e),c.classList.remove("isFixed"),e=null)},change:function(a){k.push(a)}},i(q,"scroll resize",j.scroll),j):void 0},a.CY.floatNav={anchor:q,"float":t},a.CY.floatNav)});