!function(a,b){"undefined"!=typeof module?module.exports=b(a):(b(a),"function"==typeof define&&(define.amd||define.cmd)&&define("stringUtil",function(){return b(a)}))}(window||this,function(a){var b,c;return!a.CY&&(a.CY={}),a.CY.stringUtil?a.CY.stringUtil:(b=function(a){return Object.prototype.toString.call(a).split(/\s(\w+)/)[1].toLowerCase()},c={comma:function(a,b){(!b||1>b)&&(b=3);var c=(""+a).split(".");return c[0]=c[0].replace(new RegExp("(\\d)(?=(\\d{"+b+"})+$)","ig"),"$1,"),c.join(".")},params:function(a){var c,b=[];for(c in a)b.push(c+"="+a[c]);return b.join("&")},getQueryValue:function(a,b){var c,d;return b||(b=a,a=location.href+""),c=new RegExp("(^|&|\\?|#)"+b+"=([^&]*)(&|$)",""),d=a.match(c),(d&&d[2]||"").trim().split("#")[0]},addQueryValue:function(a,b,c){var f,d=this,e="",g="#";return c=c||"",f=d.getQueryValue(a,b),f?a=a.replace(b+"="+f,b+"="+c):(-1!=a.indexOf(g)&&(e=g+a.slice(a.indexOf(g)+1),a=a.substring(0,a.indexOf(g))),a+=(a.indexOf("?")>-1?"&":"?")+b+"="+c),a+e},substitute:function(a,c){return c&&"object"==b(c)?a.replace(/\{([^{}]+)\}/g,function(a,b){var d=c[b];return void 0!==d?""+d:""}):a.toString()},dateFormat:function(a,b){var d,e,c=new Date(a);b=b||"yyyy.mm.dd",d={"m+":c.getMonth()+1,"d+":c.getDate(),"h+":c.getHours(),"n+":c.getMinutes(),"s+":c.getSeconds(),S:c.getMilliseconds(),W:["日","一","二","三","四","五","六"][c.getDay()],"q+":Math.floor((c.getMonth()+3)/3)},b.indexOf("am/pm")>=0&&(b=b.replace("am/pm",d["h+"]>=12?"下午":"上午"),d["h+"]>=12&&(d["h+"]-=12)),/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(c.getFullYear()+"").substr(4-RegExp.$1.length)));for(e in d)new RegExp("("+e+")").test(b)&&(b=b.replace(RegExp.$1,1==RegExp.$1.length?d[e]:("00"+d[e]).substr((""+d[e]).length)));return b},parse:function(a){return"string"==b(a)?a.indexOf("GMT")>0||a.indexOf("gmt")>0||!isNaN(Date.parse(a))?this._parseGMT(a):a.indexOf("UTC")>0||a.indexOf("utc")>0||a.indexOf(",")>0?this._parseUTC(a):this._parseCommon(a):new Date},_parseGMT:function(a){return(new Date).setTime(Date.parse(a))},_parseUTC:function(a){return new Date(a)},_parseCommon:function(a){var b=a.split(/ |T/),c=b.length>1?b[1].split(/[^\d]/):[0,0,0],d=b[0].split(/[^\d]/);return new Date(d[0]-0,d[1]-1,d[2]-0,(c[0]||0)-0,(c[1]||0)-0,(c[2]||0)-0)}},a.CY.stringUtil=c,c)});