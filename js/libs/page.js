!function(a,b){if("undefined"!=typeof module)require("./select"),module.exports=b(a);else if(b(a),"function"==typeof define&&(define.amd||define.cmd)){var c="//"+(!/ppppoints.com/.test(document.domain)?"j.changyoyo.com":"j.ppppoints.com")+"/static/js/";requirejs.config({paths:{select:c+"libs/select.js"}}),define("page",["select"],function(){return b(a)})}}(window||this,function(a){if(!a.CY&&(a.CY={}),a.CY.page)return a.CY.page;var b=function(){var a=function(){var c,b=[];b.push(".pageList{font-size: 18px;}"),b.push(".pageList .selectText{display: inline-block;height: 40px;}"),b.push(".pageList .selectText .areaInp{ line-height: 39px;}"),b.push(".pageList .selectText .iIcon{height: 36px;}"),b.push(".pageList a{display:inline-block;height: 40px;line-height: 40px;overflow:hidden;padding: 0 14px;color:#666666;background-color:#ffffff;border:solid 1px #dddddd;text-decoration:none;margin:0 2px;}"),b.push(".pageList a:hover{text-decoration:none;border-color:#009874}"),b.push(".pageList a.curr,.pageList a.curr:hover{color:#ffffff;background-color:#009874;border-color:#009874;cursor:default}"),b.push(".pageList span{display:inline-block;height: 40px;line-height: 40px;overflow:hidden;padding:0 5px;color:#666666;margin:0 2px;}"),b.push(".pageList a.first,.pageList a.last,.pageList a.prev,.pageList a.next{background-image: url(Artboard.png);background-repeat: no-repeat;background-position: center 5px;width: 40px;overflow: hidden;text-indent: -1000px;background-color: transparent;border: none;}"),b.push(".pageList b,.pageList strong{font-weight: normal;padding: 0 2px;}"),b.push(".pageList a.prev{background-position:center -85px}"),b.push(".pageList a.next{background-position:center -205px}"),b.push(".pageList a.prev.disabled{background-position: center -55px;}"),b.push(".pageList a.next.disabled{background-position:center -175px;}"),b.push(".pageList a.first{background-position:center -25px}"),b.push(".pageList a.last{background-position:center -145px}"),b.push(".pageList a.first.disabled{background-position:center 5px;}"),b.push(".pageList a.last.disabled{background-position:center -115px;}"),b.push(".pageList .sepline{background-color:#E6E6E6;width:1px;padding:0;margin:0 5px;}"),b.push(".pageList a.disabled{/* opacity:0.3; filter:alpha(opacity=30);*/cursor:default;}"),b.push(".pageList a.disabled:hover{border-color:#dddddd}"),b.push(".pageList span.pageListswitch{margin-left:5px}"),b.push(".pageList input{font-size: 18px;height: 40px;line-height: 40px;color:#666666;text-align:center;background-color:#ffffff;border:solid 1px #dddddd;margin:0 2px;vertical-align:middle;position: relative;}"),b.push(".pageList button{font-size: 18px;width: 50px;height: 40px;line-height: 40px;color:#ffffff;background-color:#999;border:none;cursor:pointer;vertical-align:middle;margin:0 2px;position: relative;top: -1px;}"),b.push(".pageList button:hover{background-color:#009874;}"),c=document.createElement("style"),c.type="text/css",c.innerHTML=b.join(""),document.getElementsByTagName("head")[0].appendChild(c),a=function(){}},b=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelector(a):null},c=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelectorAll(a):null},d=function(a){return Object.prototype.toString.call(a).split(/\s(\w+)/)[1].toLowerCase()},e=function(a,b){for(var c in b)b.hasOwnProperty(c)&&("object"!=d(b[c])?void 0!=b[c]&&(a[c]=b[c]):a[c]=e(a[c]||{},b[c]));return a},f=function(a,b){return arguments.length>0&&i(b||[],function(b,c){a=a.replace(new RegExp("\\{"+b+"\\}","g"),c)}),a},g=function(a,b){return b&&"object"==d(b)?a.replace(/\{([^{}]+)\}/g,function(a,c){var d=b[c];return void 0!==d?""+d:""}):a.toString()},h=function(a,b,c){b.split(" ").forEach(function(b){a.addEventListener(b,c,!1)})},i=function(a,b){a=a||[];for(var c=0,d=a.length;d>c&&0!=b.call(a[c],c,a[c]);c++);},j=function(a){return(a||"").replace(/^\s+|\s+$/g,"")},k=function(a,b){for(var c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1},l=function(a,b,c){var g,d=[],e=[],f=0;for(g=1;b>g;g++)b-1>f&&c>=a+g&&(e.push(a+g),f++),b-1>f&&a-g>1&&(d.unshift(a-g),f++);return{curr:a,prevs:d,nexts:e}},m={sep:"<span>…</span>",line:'<span class="sepline"></span>',page:'<a class="{cssText}" href="{url}" target="{target}" data-page="{page}" title="{title}">{pageStr}</a>',pageInput:'<span class="goPage">第<input type="text" name="page" value="{page}" size="1"/>/{pageNum}页 </span>',sizeInput:'<select class="pageSize" name="pageSize"></select>',pageInfo:'<span class="pageInfo">显示{0}至{1}，共{2}条记录</span>',getPage:function(a,b,c,d,e){var f={page:a||1,pageStr:b||a,cssText:c||"",title:b||"第"+a+"页",url:d||"#",target:e||"_self"};return g(this.page,f)},getHTML:function(a,b){return g(b,a)}};return function(d,n){var o,q,p,r,s,t,u,v,w,x,y,z,A,C,D,E;return a(),d=b(d),n=e({count:5,page:1,total:1,pageNum:1,pageSize:10,showSep:!1,hasPageInfo:!1,pageInfoAlign:"right",hasPage:!0,hasPageInput:!1,pageInputAlign:"center",sizeInputArr:[5,10],sizeInputAlign:"center",url:"",target:"_self",disabled:"disabled",onSwitch:null,onPageChange:function(){},onSizePageChange:function(){}},n||{}),n.tmpl=e(e({},m),n.tmpl||{}),n.pageNum=Math.ceil(n.total/n.pageSize),n.page<1&&(n.page=1),n.page>n.pageNum&&(n.page=n.pageNum),"#"==n.url&&(n.url=""),o=n.tmpl,p=[],r=n.hasPageInfo,s=n.pageInfoAlign,t=n.hasPageInput,u=n.pageInputAlign,v=n.sizeInputArr,w=n.sizeInputAlign,x=function(a){var b=e({},n);return b.page=a,g(n.url,b)},n.hasPage?(q=l(n.page,n.count,n.pageNum),i(q.prevs,function(a,b){p.push(o.getPage(b,b,"",x(b),n.target))}),p.push(o.getPage(n.page,n.page,"curr")),i(q.nexts,function(a,b){p.push(o.getPage(b,b,"",x(b),n.target))}),n.page-q.prevs.length>1&&(p.unshift(o.sep),p.unshift(o.getPage(1,1,"",x(1),n.target))),n.page+q.nexts.length<n.pageNum&&(p.push(o.sep),p.push(o.getPage(n.pageNum,n.pageNum,"",x(n.pageNum),n.target)))):(n.viewFirstPage=!0,n.viewLastPage=!0),n.showSep&&p.unshift(o.line),p.unshift(o.getPage(n.page-1,"上一页",n.page>1?"prev":"prev "+n.disabled)),n.viewFirstPage&&p.unshift(o.getPage(1,"首页",n.page>1?"first":"first "+n.disabled)),n.showSep&&p.unshift(o.line),t&&"left"==u&&p.unshift(g(o.pageInput,n)),v.length&&"left"==w&&p.unshift(g(o.sizeInput,n)),t&&"center"==u&&p.push(g(o.pageInput,n)),v.length&&"center"==w&&p.unshift(g(o.sizeInput,n)),n.showSep&&p.push(o.line),p.push(o.getPage(n.page+1,"下一页",n.page<n.pageNum?"next":"next "+n.disabled)),n.viewLastPage&&p.push(o.getPage(n.pageNum,"末页",n.page<n.pageNum?"last":"last "+n.disabled)),n.showSep&&p.push(o.line),t&&"right"==u&&p.push(g(o.pageInput,n)),v.length&&"right"==w&&p.unshift(g(o.sizeInput,n)),r&&(y=[(n.page-1)*n.pageSize+1,(n.page-1)*n.pageSize+n.pageSize,n.total],"left"==s?p.unshift(f(o.pageInfo,y)):p.push(f(o.pageInfo,y))),z=(d.className||"").split(" "),k("pageList",z)<0&&(z.push("pageList"),d.className=z.join(" ")),d.innerHTML=p.join(""),i(c("a",d),function(a,b){var c=(b.className||"").split(" ");k("curr",c)<0&&k(n.disabled,c)<0&&n.onSwitch&&h(b,"click",function(a){n.onSwitch.call(n,parseInt(b.getAttribute("data-page")),parseInt(n.pageSize)),a.preventDefault()})}),v.length&&(A=function(){var c,a=[],e='<option value="{value}">{text}</option>';k(n.pageSize,v)<0&&v.push(n.pageSize),i(v,function(b,c){a.push(g(e,{value:c,text:"第"+c+"页"}))}),c=b(".pageSize",d),c.innerHTML=a.join(""),CY&&CY.select?CY.select(c,{width:"105px",data:a,onChange:function(a){n.onSizePageChange.call(n,a.value,n)}}):h(c,"change",function(){i(c.options,function(a,b){b.selected&&n.onSizePageChange.call(n,b.value,n)})})},A()),t&&(c("button",d)[0],C=b('input[name="page"]',d),D=b('input[name="pageSize"]',d),C&&h(C,"keypress",function(a){if(13==a.keyCode){if(E=j(C.value),""==E)return C.focus(),!1;if(n.url&&"#"!=n.url){1>E?E=1:E>n.pageNum&&(C.value=E=n.pageNum);var b=g(n.url,n);n.target&&"_self"!=n.target?window.open(b):document.location.href=b}n.onPageChange.call(n,E,n)}})),{}}}();return a.CY.page=b,b});