!function(a,b){"undefined"!=typeof module?module.exports=b(a):(b(a),"function"==typeof define&&(define.amd||define.cmd)&&define("historyModule",function(){return b(a)}))}(window||this,function(a){var b,c,e,f;return!a.CY&&(a.CY={}),a.CY.historyModule?a.CY.historyModule:(b=document,f=function(a){return a+(Math.random()+"").slice(9)},c=function(){var c,d,h,i,j,k,a=[];return a.push('<div class="page-content">'),a.push('    <div class="search-history">'),a.push('        <div class="page-title">'),a.push('            	{titleText}<span class="sea-clear" v-on:click="clear">{btnText}</span>'),a.push("        </div>"),a.push('        <div class="keyword-list">'),a.push("            <ul></ul>"),a.push("        </div>"),a.push("    </div>"),a.push("</div>"),a=a.join(""),c=function(){var c,a=[];a.push(".historyModule["+e+"]{}"),a.push(".historyModule["+e+"] .page-content{background:#f2f2f2;padding:10px 12px 12px 12px}"),a.push(".historyModule["+e+"] .page-content .search-history,.page-content .page-title{font-size:13px;color:#999;margin-bottom:6px;position:relative}"),a.push(".historyModule["+e+"] .page-content .page-title .sea-clear{position:absolute;right:2px;top:0;color:#555}"),a.push(".historyModule["+e+"] .page-content .keyword-list ul{overflow:hidden;padding-bottom:1px;}"),a.push(".historyModule["+e+"] .page-content .keyword-list ul li{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:25%;border:0px;border-radius:3px;background:#fff;text-align:center;float:left;height:30px;line-height:30px;padding:0 10px}"),a.push(".historyModule["+e+"] .page-content .keyword-list ul li.on{color:#49f}"),a.push(".historyModule["+e+"] .page-content .keyword-list ul li.on span{color:#49f}"),a.push(".historyModule["+e+"] .page-content .keyword-list ul li span{font-size:13px;display:inline-block;vertical-align:middle;line-height:20px;max-width:5em;max-height:40px;overflow:hidden;}"),a.push(".historyModule["+e+"] .page-content .keyword-list ul li:nth-of-type(3n){margin-right:0}"),c=b.createElement("style"),c.type="text/css",c.innerHTML=a.join(""),b.getElementsByTagName("head")[0].appendChild(c)},d=function(a,b){return a&&a instanceof Object?a:a?(b||document).querySelector(a):null},h=function(a){return Object.prototype.toString.call(a).split(/\s(\w+)/)[1].toLowerCase()},i=function(a,b){for(var c in b)b.hasOwnProperty(c)&&("object"!=h(b[c])?void 0!=b[c]&&(a[c]=b[c]):a[c]=i(a[c]||{},b[c]));return a},j=function(a,b){return b&&"object"==h(b)?a.replace(/\{([^{}]+)\}/g,function(a,c){var d=b[c];return void 0!==d?""+d:""}):a.toString()},k=function(a,b,c){b.split(" ").forEach(function(b){a.addEventListener(b,c,!1)})},function(g,h){var l,n,p,q,r,s,t,u,v,w,x,y,z,A;return g=d(g),h=i({id:"",value:"",max:20,currCss:"on",attrName:"text",titleText:"搜索记录",btnText:"清除",data:[],onBefore:function(){},onRender:function(){},onClick:function(){}},h||{}),l="px ",n=h.id,e=n||f("historyModule"),p=function(a,b){return isNaN(parseFloat(a))?b:parseFloat(a)},q=p(h.rowSpace,10),r=p(h.colSpace,10),s=p(h.width,25),t=h.moduleSpm,u=h.moduleName,v=h.backgroundColor,w=Math.floor(100/s),x=[h.onClick],y=function(){var c,d,e,f,j,k,a=b.createDocumentFragment();h.data=h.data.slice(0,h.max),c=g.getElementsByTagName("ul")[0],i(g.style,{display:h.data.length?"block":"none"}),d=h.data.length,e=c.offsetWidth,f=(w-1)*q,j=(e-f)/w+"px",k=d%w,0==k&&(k=w),h.data.forEach(function(c,e){var f,g=c[h.attrName];f=b.createElement("li"),f.data=c,f.title=g,h.value==g&&(f.className=h.currCss),f.style.marginBottom=r+l,e>=d-k&&(f.style.marginBottom=0),f.style.width=j,f.style.marginRight=e%w==w-1?0:q+l,f.innerHTML="<span>"+g+"</span>",a.appendChild(f)}),c.innerHTML="",c.appendChild(a)},g.setAttribute(e,""),g.classList.add("historyModule"),!g.id&&g.setAttribute("id",e),g.setAttribute("title",u),v&&i(g.style,{backgroundColor:v}),t&&(g.setAttribute("data-spm",t),g.setAttribute("data-spm-type","all")),h.onBefore(h.data,h,g),g.innerHTML=j(a,h),setTimeout(function(){y()},200),z=g.getElementsByTagName("ul")[0],A=g.querySelector(".sea-clear"),k(z,"click",function(a){for(var b=a.target||a.srcElement,c=0;b&&b!=z;){if(1==b.nodeType){if(c++>6)break;if(/li/i.test(b.nodeName)){x.forEach(function(a){a(b.data,b)});break}}b=b["parentNode"]}}),k(A,"click",function(){z.innerHTML="",h.data.length=0}),h.onRender(h.data,h,g),c(),{show:function(){i(g.style,{display:"block"})},hide:function(){i(g.style,{display:"none"})},onClick:function(a){x.push(a)},getData:function(){return h.data},setData:function(a){h.data=a,y()},setValue:function(a){h.value=a||"",y()},addItem:function(a){var c,b=-1;z=g.getElementsByTagName("ul")[0],lis=z.getElementsByTagName("li"),h.data.forEach(function(c,d){a[h.attrName]==c[h.attrName]&&(b=d)}),b>-1?(c=h.data.splice(b,1)[0],h.data.unshift(c),y()):(h.data.unshift(a),y())}}}}(),a.CY.historyModule=c,c)});